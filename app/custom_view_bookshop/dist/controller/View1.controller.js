sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox"],function(e,t){"use strict";return e.extend("customviewbookshop.controller.View1",{onInit:function(){this.byId("addBookPanel").setVisible(false);this.byId("viewDetailsPanel").setVisible(false)},submit:function(){var e=this.getView();var s=e.getModel();var o=s.bindList("/Books").create({title:e.byId("title").getValue(),author:e.byId("author").getValue(),price:parseInt(e.byId("price").getValue(),10),stock:parseInt(e.byId("stock").getValue(),10),location:e.byId("location").getValue(),genre:e.byId("genre").getValue()});o.created().then(()=>{t.success("Book Added Successfully");["title","author","price","stock","location","genre"].forEach(t=>e.byId(t).setValue(""))}).catch(e=>{t.error("Error adding book");console.error(e)})},onAddBookPressed:function(){this.hideAllPanels();this.byId("addBookPanel").setVisible(true)},onViewDetailsBookPressed:function(){this.hideAllPanels();var e=this.byId("booksTable");if(e){e.getBinding("items").refresh()}this.byId("viewDetailsPanel").setVisible(true)},hideAllPanels:function(){this.byId("addBookPanel").setVisible(false);this.byId("viewDetailsPanel").setVisible(false)},onCollapseExpandPress:function(){var e=this.byId("sideNavigation");e.setExpanded(!e.getExpanded())},onActionPressed:function(e){this._oSelectedContext=e.getSource().getParent().getBindingContext();if(!this._oActionSheet){this._oActionSheet=sap.ui.xmlfragment(this.getView().getId(),"customviewbookshop.view.ActionSheet",this);this.getView().addDependent(this._oActionSheet)}this._oActionSheet.openBy(e.getSource())},onViewPress:function(){var e=this._oSelectedContext.getObject();t.information("Title: "+e.title+"\n"+"Author: "+e.author+"\n"+"Price: "+e.price+"\n"+"Stock: "+e.stock+"\n"+"Location: "+e.location+"\n"+"Genre: "+e.genre)},onDeletePress:function(){var e=this._oSelectedContext;t.confirm("Are you sure you want to delete this book?",{onClose:s=>{if(s===t.Action.OK){e.delete().then(()=>{t.success("Book deleted successfully");this.byId("booksTable").getBinding("items").refresh()})}}})},onFetchSalesOrderData:async function(){try{const e=this.getView().getModel();const t=new sap.m.Input({placeholder:"Sales Order",width:"100%"});const s=new sap.m.Label({text:"Enter the Sales Order Number",labelFor:t});const o=new sap.m.Dialog({title:"Sales Order",content:[s,t],beginButton:new sap.m.Button({text:"Submit",type:"Emphasized",press:async()=>{const s=t.getValue();if(!s){sap.m.MessageBox.warning("Please enter Sales Order Number");return}try{const t=e.bindContext("/readInvoiceNumber(...)");t.setParameter("salesOrderID",s);await t.execute();const n=t.getBoundContext().getObject();if(n&&n.value&&n.value.length>0){const e=n.value[0];const t="Sales Order: "+e.SalesOrder+"\n"+"Sales Order Item: "+e.SalesOrderItem+"\n"+"Requested Quantity: "+e.RequestedQuantity;sap.m.MessageBox.information(t,{title:"Sales Order Details"})}else{sap.m.MessageBox.information("No data found")}o.close()}catch(e){console.error(e);sap.m.MessageBox.error("Error fetching Sales Order data")}}}),endButton:new sap.m.Button({text:"Cancel",press:()=>o.close()}),afterClose:()=>o.destroy()});o.open()}catch(e){console.error(e);sap.m.MessageBox.error("Failed to fetch Sales Order data")}}})});
//# sourceMappingURL=View1.controller.js.map